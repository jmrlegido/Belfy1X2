DROP TABLE IF EXISTS equipos;                                 
DROP TABLE IF EXISTS equipos_temporada;                       
DROP TABLE IF EXISTS equipos_usuarios;                        
DROP TABLE IF EXISTS incidencias;                             
DROP TABLE IF EXISTS jornadas;                                
DROP TABLE IF EXISTS patrones_pesos_factores;                 
DROP TABLE IF EXISTS pesos_factores;                          
DROP TABLE IF EXISTS quinielas;                               
DROP TABLE IF EXISTS quinielas_disponibles_server;            
DROP TABLE IF EXISTS quinielas_partidos;                      
DROP TABLE IF EXISTS quinielas_partidos_disponibles_server;   
DROP TABLE IF EXISTS quinielas_usuarios;                      
DROP TABLE IF EXISTS temporadas;                              
DROP TABLE IF EXISTS usuarios;                                
DROP TABLE IF EXISTS valoresdefecto_equipos_calidadintrinseca;

CREATE TABLE equipos (id varchar PRIMARY KEY  NOT NULL  UNIQUE , nombre varchar NOT NULL );
CREATE TABLE equipos_temporada (id_temporada integer NOT NULL , id_equipo varchar NOT NULL , division integer NOT NULL ,  PRIMARY KEY (id_temporada, id_equipo));
CREATE TABLE equipos_usuarios (id_temporada integer NOT NULL , id_equipo varchar NOT NULL , id_usuario integer NOT NULL, calidad_intrinseca integer NOT NULL,  PRIMARY KEY (id_temporada, id_equipo, id_usuario));
CREATE TABLE incidencias (id integer PRIMARY KEY  AUTOINCREMENT  NOT NULL , cuando TEXT NOT NULL, texto VARCHAR NOT NULL , enviada INTEGER default 0 );
CREATE TABLE jornadas (id integer PRIMARY KEY  AUTOINCREMENT  NOT NULL  UNIQUE , id_temporada integer NOT NULL, division integer NOT NULL , jornada_num integer NOT NULL , id_local varchar NOT NULL , id_visitante varchar NOT NULL , goles_local integer NOT NULL  DEFAULT 0, goles_visitante integer NOT NULL  DEFAULT 0);
CREATE TABLE patrones_pesos_factores (id integer PRIMARY KEY  NOT NULL  UNIQUE , nombre varchar NOT NULL, id_usuario integer NOT NULL , aleatoriedad integer NOT NULL , calidad_intrinseca integer NOT NULL , factor_campo integer NOT NULL , golaveraje integer NOT NULL , golaveraje_localvisit integer NOT NULL , puntos_partido integer NOT NULL , puntos_partido_localvisit integer NOT NULL , ultimos4 integer NOT NULL , ultimos4_localvisit integer NOT NULL );
CREATE TABLE pesos_factores (id integer PRIMARY KEY  NOT NULL  UNIQUE , id_usuario integer NOT NULL , aleatoriedad integer NOT NULL , calidad_intrinseca integer NOT NULL , factor_campo integer NOT NULL , golaveraje integer NOT NULL , golaveraje_localvisit integer NOT NULL , puntos_partido integer NOT NULL , puntos_partido_localvisit integer NOT NULL , ultimos4 integer NOT NULL , ultimos4_localvisit integer NOT NULL );
CREATE TABLE quinielas (id integer PRIMARY KEY  AUTOINCREMENT  NOT NULL  UNIQUE , id_temporada integer NOT NULL , fecha integer NOT NULL, nombre varchar, aciertos integer default -1  );
CREATE TABLE quinielas_disponibles_server (id integer PRIMARY KEY  AUTOINCREMENT  NOT NULL  UNIQUE , id_temporada integer NOT NULL , fecha integer NOT NULL, disponible_correccion bool default 0  );
CREATE TABLE quinielas_partidos (id integer PRIMARY KEY  AUTOINCREMENT  NOT NULL  UNIQUE , id_quiniela integer NOT NULL, id_local varchar NOT NULL , id_visitante varchar NOT NULL , partido_num integer NOT NULL , resultado_1x2 CHAR NOT NULL );
CREATE TABLE quinielas_partidos_disponibles_server (id integer PRIMARY KEY  AUTOINCREMENT  NOT NULL  UNIQUE , id_quiniela integer NOT NULL, id_local varchar NOT NULL , id_visitante varchar NOT NULL , partido_num integer NOT NULL , resultado_1x2 CHAR  );
CREATE TABLE quinielas_usuarios (id_quiniela integer NOT NULL , id_usuario integer NOT NULL , PRIMARY KEY (id_quiniela, id_usuario));
CREATE TABLE temporadas (id integer PRIMARY KEY  NOT NULL  UNIQUE , nombre VARCHAR NOT NULL );
CREATE TABLE usuarios (id integer PRIMARY KEY  AUTOINCREMENT  NOT NULL , nombre varchar NOT NULL );
CREATE TABLE valoresdefecto_equipos_calidadintrinseca (id_temporada integer NOT NULL , id_equipo varchar NOT NULL , calidad_intrinseca integer NOT NULL,  PRIMARY KEY (id_temporada, id_equipo));

insert into pesos_factores (id_usuario, aleatoriedad, calidad_intrinseca, factor_campo, golaveraje, golaveraje_localvisit, puntos_partido, puntos_partido_localvisit, ultimos4, ultimos4_localvisit) values (6,11,22,33,44,55,66,77,88,99);

insert into temporadas values (1415, '2014/15');

insert into equipos values ('alm', 'Almería');
insert into equipos values ('ath', 'Ath.Bilbao');
insert into equipos values ('atm', 'At.Madrid');
insert into equipos values ('bar', 'F.C.Barcelona');
insert into equipos values ('cel', 'Celta');
insert into equipos values ('cor', 'Córdoba');
insert into equipos values ('dep', 'Deportivo');
insert into equipos values ('eib', 'Eibar'); 	
insert into equipos values ('elc', 'Elche');
insert into equipos values ('esp', 'Espanyol');
insert into equipos values ('get', 'Getafe');
insert into equipos values ('gra', 'Granada');
insert into equipos values ('lev', 'Levante');
insert into equipos values ('mga', 'Málaga');
insert into equipos values ('rma', 'R.Madrid');
insert into equipos values ('rso', 'R.Sociedad');
insert into equipos values ('rva', 'R.Vallecano');
insert into equipos values ('sev', 'Sevilla C.F.');
insert into equipos values ('val', 'Valencia');
insert into equipos values ('vil', 'Villarreal');

insert into equipos values ('ala', 'Alavés');
insert into equipos values ('alb', 'Albacete');
insert into equipos values ('alc', 'Alcorcón');
insert into equipos values ('bar2', 'Barcelona B');
insert into equipos values ('bet', 'Betis');
insert into equipos values ('gir', 'Girona');
insert into equipos values ('lpa', 'Las Palmas');
insert into equipos values ('leg', 'Leganés');
insert into equipos values ('lla', 'Llagostera');
insert into equipos values ('lug', 'Lugo');
insert into equipos values ('mca', 'Mallorca');
insert into equipos values ('mur', 'Murcia');
insert into equipos values ('num', 'Numancia');
insert into equipos values ('osa', 'Osasuna');
insert into equipos values ('pon', 'Ponferradina');
insert into equipos values ('san', 'Racing');
insert into equipos values ('rec', 'Recreativo');
insert into equipos values ('sab', 'Sabadell');
insert into equipos values ('gij', 'S.Gijón');
insert into equipos values ('ten', 'Tenerife');
insert into equipos values ('vad', 'Valladolid');
insert into equipos values ('zar', 'Zaragoza');

insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'alm', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'ath', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'atm', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'bar', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'cel', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'cor', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'dep', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'eib', 1); 	
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'elc', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'esp', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'get', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'gra', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'lev', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'mga', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'rma', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'rso', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'rva', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'sev', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'val', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'vil', 1);

insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'ala', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'alb', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'alc', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'bar2', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'bet', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'gir', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'lpa', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'leg', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'lla', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'lug', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'mca', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'mur', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'num', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'osa', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'pon', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'san', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'rec', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'sab', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'gij', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'ten', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'vad', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1415, 'zar', 2);

insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415,'atm', 85);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415,'bar', 81);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415,'rma', 81);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415,'ath', 61);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415,'sev', 53);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415,'vil', 48);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415,'rso', 48);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415,'val', 36);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415,'cel', 36);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415,'lev', 35);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415,'mga', 31);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415,'rva', 29);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415,'get', 27);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415,'esp', 27);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415,'gra', 26);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415,'elc', 25);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415,'alm', 25);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415,'cor', 23);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415,'eib', 23);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415,'dep', 23);

insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415, 'bet',	90);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415, 'osa',	90);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415, 'vad',	90);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415, 'bar2', 85);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415, 'mur',	81);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415, 'gij',	77);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415, 'lpa',	73);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415, 'rec',	65);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415, 'alc',	57);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415, 'sab',	57);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415, 'ten',	37);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415, 'lug',	37);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415, 'num',	37);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415, 'zar',	33);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415, 'gir',	25);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415, 'pon',	25);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415, 'mca',	25);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415, 'ala',	25);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415, 'alb',	23);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415, 'lla',	23);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415, 'san',	23);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1415, 'leg',	23);
